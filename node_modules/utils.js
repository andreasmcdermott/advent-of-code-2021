const fs = require("fs");
const path = require("path");

const defaultMapLineFn = line => line;

const input = (mapLineFn = defaultMapLineFn) => {
  let dayDir = process.argv[1];
  const {dir, ext} = path.parse(dayDir);
  if (ext !== '') {
    dayDir = dir;
  }
  const content = fs.readFileSync(path.resolve(dayDir, 'input.txt'), "utf8");
  return content.split("\n").filter((line) => line.trim() !== "").map(mapLineFn);
};

const print = (part1, part2) => {
  console.log("Result Part 1: ", part1);
  if (part2) console.log("Result Part 2: ", part2);
};

module.exports = { print, input };
